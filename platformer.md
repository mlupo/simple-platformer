# Quick Platformer

## Let's Make a platformer @unplugged
In this brief tutorial, we will start with a skeleton of a game and add some new functionality!

By the end we will have a (very) simple platforming game!

## _
### Take a Look at What's Already Here!

Take a look at the blocks that are already present, then head to the next step when you're ready to add more to this game.

```blocks
scene.setBackgroundColor(11)
tiles.setTilemap(tiles.createTilemap(hex`28000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010000000000000000000000000000000000000000000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010100000001010100000000000000000000000000000000000000000000000000000001010101010101000000000000000000000000000000000000000000010101010000000000000001010101010101010101010101010101000101010000010101010101000000000000000101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
........................................
........................................
.................2222...................
............2222........................
.......2222.............................
...................................22222
...222...........................2222222
.....................2222.......22222222
22222222.222..222222.......2222222222222
........................................
`, [image.ofBuffer(hex``),sprites.builtin.brick,sprites.dungeon.hazardLava0], TileScale.Sixteen)

)
let mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......fd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fbddddbfd1df......
    ......fcbbbdcfddbf......
    .......fcbb11111f.......
    ........fffff1b1f.......
    ........fb111cfbf.......
    ........ffb1b1ff........
    ......f.fffbfbf.........
    ......ffffffff..........
    .......fffff............
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 7))
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 80, 0)
```

## _
### Let's Add Gravity!
You may have noticed that the player can only slide left to right... let's make it so that our player is dragged down by gravity!  

In the ``||sprites:sprites||`` drawer find the ``||sprites:set||`` ``||variables:mySprite||`` ``||sprites:x to 0||`` block, and drag it to the bottom of the ``||loops:on start||`` block.
Change **x** to **ay (acceleration y)**, and change **0** to **900**.  

This will make it so you character will fall downward, unless they are standing on a wall!

```blocks
scene.setBackgroundColor(11)
tiles.setTilemap(tiles.createTilemap(hex`28000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010000000000000000000000000000000000000000000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010100000001010100000000000000000000000000000000000000000000000000000001010101010101000000000000000000000000000000000000000000010101010000000000000001010101010101010101010101010101000101010000010101010101000000000000000101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
........................................
........................................
.................2222...................
............2222........................
.......2222.............................
...................................22222
...222...........................2222222
.....................2222.......22222222
22222222.222..222222.......2222222222222
........................................
`, [image.ofBuffer(hex``),sprites.builtin.brick,sprites.dungeon.hazardLava0], TileScale.Sixteen)

)
let mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......fd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fbddddbfd1df......
    ......fcbbbdcfddbf......
    .......fcbb11111f.......
    ........fffff1b1f.......
    ........fb111cfbf.......
    ........ffb1b1ff........
    ......f.fffbfbf.........
    ......ffffffff..........
    .......fffff............
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 7))
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 80, 0)
// @highlight
mySprite.ay = 900
```

## _
### Now let's jump!!
To make our character jump, we will temporarily change our character's Y velocity! Doing so will propel our character into the air, before they are brought back down by gravity.
  
First, we need to drag out a fresh ``||controller:on A button pressed||`` block from the ``||controller:controller||`` drawer. This is where we will put our jumping logic.  

```block
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
	
})
```

## _
### Now let's jump, but for real!!
In order to jump, we need to make sure that our character is standing on a flat surface! To do this, grab a ``||logic:if true then||`` block from the ``||logic:logic||`` category, and place it inside the ``||controller:on A button pressed||`` block.

The ``||logic:if true then||`` block will run whatever code is inside of it, as long as its condition evaluates to **true**. We want to check if a particular condition is **true**: is there a wall beneath our character?

```blocks
scene.setBackgroundColor(11)
tiles.setTilemap(tiles.createTilemap(hex`28000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010000000000000000000000000000000000000000000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010100000001010100000000000000000000000000000000000000000000000000000001010101010101000000000000000000000000000000000000000000010101010000000000000001010101010101010101010101010101000101010000010101010101000000000000000101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
........................................
........................................
.................2222...................
............2222........................
.......2222.............................
...................................22222
...222...........................2222222
.....................2222.......22222222
22222222.222..222222.......2222222222222
........................................
`, [image.ofBuffer(hex``),sprites.builtin.brick,sprites.dungeon.hazardLava0], TileScale.Sixteen)

)
let mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......fd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fbddddbfd1df......
    ......fcbbbdcfddbf......
    .......fcbb11111f.......
    ........fffff1b1f.......
    ........fb111cfbf.......
    ........ffb1b1ff........
    ......f.fffbfbf.........
    ......ffffffff..........
    .......fffff............
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 7))
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 80, 0)
mySprite.ay = 900

controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (true) {
        
    }
})
```

## _
### Okay, am I standing on a wall?

To check for this, find the ``||scene:is||`` ``||variables:mySprite||`` ``||scene:hitting wall left||`` from the ``||scene:scene||`` drawer.  
Drag this diamond shaped block over to replace the word **true** in the ``||logic:if||`` block.  

Change ``||scene:left||`` to ``||scene:bottom||``. Now the if block will only run its code when your player is standing on a wall... now we just need to put some code in there....

```blocks
scene.setBackgroundColor(11)
tiles.setTilemap(tiles.createTilemap(hex`28000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010000000000000000000000000000000000000000000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010100000001010100000000000000000000000000000000000000000000000000000001010101010101000000000000000000000000000000000000000000010101010000000000000001010101010101010101010101010101000101010000010101010101000000000000000101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
........................................
........................................
.................2222...................
............2222........................
.......2222.............................
...................................22222
...222...........................2222222
.....................2222.......22222222
22222222.222..222222.......2222222222222
........................................
`, [image.ofBuffer(hex``),sprites.builtin.brick,sprites.dungeon.hazardLava0], TileScale.Sixteen)

)
let mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......fd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fbddddbfd1df......
    ......fcbbbdcfddbf......
    .......fcbb11111f.......
    ........fffff1b1f.......
    ........fb111cfbf.......
    ........ffb1b1ff........
    ......f.fffbfbf.........
    ......ffffffff..........
    .......fffff............
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 7))
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 80, 0)
mySprite.ay = 900

controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    // @highlight
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
    
    }
})
```

## _
### Alright, let's jump!!!
Finally, we can add a ``||sprites:change||`` ``||variables:mySprite||`` ``||sprites:x to 0||`` block to the inside of our ``||logic:if||`` block!

Change ``||sprites:x||`` to ``||sprites:vy (velocity y)||``, and change **0** to **-300**.  

If it all works as planned your character should jump into the air whenever you press the A button (the z key on your keyboard)!!

```blocks
scene.setBackgroundColor(11)
tiles.setTilemap(tiles.createTilemap(hex`28000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010000000000000000000000000000000000000000000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010100000001010100000000000000000000000000000000000000000000000000000001010101010101000000000000000000000000000000000000000000010101010000000000000001010101010101010101010101010101000101010000010101010101000000000000000101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
........................................
........................................
.................2222...................
............2222........................
.......2222.............................
...................................22222
...222...........................2222222
.....................2222.......22222222
22222222.222..222222.......2222222222222
........................................
`, [image.ofBuffer(hex``),sprites.builtin.brick,sprites.dungeon.hazardLava0], TileScale.Sixteen)

)
let mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......fd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fbddddbfd1df......
    ......fcbbbdcfddbf......
    .......fcbb11111f.......
    ........fffff1b1f.......
    ........fb111cfbf.......
    ........ffb1b1ff........
    ......f.fffbfbf.........
    ......ffffffff..........
    .......fffff............
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 7))
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 80, 0)
mySprite.ay = 900

controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        // @highlight
        mySprite.vy += -300
    }
})
```